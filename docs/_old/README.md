# ガントチャートV3 ドキュメント

## 概要

このディレクトリには、ガントチャートV3の包括的な設計・実装ドキュメントが含まれています。既存のGanttV2を拡張し、タスク依存関係管理、クリティカルパス分析、自動スケジューリング機能を追加した次世代ガントチャートシステムの全体像を提供します。

## ドキュメント構成

### 0. 見積→プロジェクト管理 標準フロー（たたき）
- [見積からプロジェクト管理までの標準フロー](./estimation-to-project-management-flow.md)

### 1. [要件分析書](./gantt-v3-requirements.md)
現在のWBS・ガントチャート機能の分析結果と改善要件の詳細

**主な内容**:
- 現在の実装状況と優れた機能の分析
- 不足している機能の特定（依存関係管理、CPM分析等）
- 機能要件・非機能要件の定義
- ユーザーストーリーと受け入れ基準
- 成功指標の設定

### 2. [設計仕様書](./gantt-v3-design.md)
システム全体のアーキテクチャとコンポーネント設計の詳細

**主な内容**:
- クリーンアーキテクチャに基づく全体設計
- 13個の専門コンポーネントの階層構造
- 拡張データモデル（TaskDependency、CriticalPath等）
- UI/UXデザインとインタラクション設計
- 状態管理とパフォーマンス最適化戦略

### 3. [実装計画書](./gantt-v3-implementation-plan.md)
TDDアプローチに基づく4フェーズの段階的実装計画

**主な内容**:
- 8-12週間の詳細実装ロードマップ
- テスト駆動開発（TDD）の具体的な進め方
- 各マイルストーンの受け入れ基準
- リスク管理と成功指標
- 段階的リリース戦略

### 4. [API仕様書](./gantt-v3-api-specification.md)
新規追加されるAPIエンドポイントの完全仕様

**主な内容**:
- 依存関係管理API（CRUD操作）
- クリティカルパス計算API
- 自動スケジューリングAPI
- リソース管理・平準化API
- エラーハンドリングとセキュリティ仕様

## 主要な新機能

### 🔗 タスク依存関係管理
- **4種類の依存関係**: FS（完了-開始）、SS（開始-開始）、FF（完了-完了）、SF（開始-完了）
- **視覚的表現**: SVG矢印による依存関係の表示
- **ドラッグ&ドロップ**: 直感的な依存関係作成・編集
- **循環依存防止**: 自動検証による制約チェック

### 📊 クリティカルパス分析
- **CPMアルゴリズム**: 数学的に正確な最長経路計算
- **視覚的ハイライト**: クリティカルタスクの強調表示
- **フロート時間**: 各タスクの遅延可能日数の計算・表示
- **リアルタイム更新**: 依存関係変更時の動的再計算

### ⚡ 自動スケジューリング
- **制約ベース調整**: 依存関係に基づく自動日程調整
- **競合検知**: リソース・カレンダー制約の自動チェック
- **手動変更保護**: ユーザーの意図的変更を尊重するオプション
- **影響分析**: 変更が与えるプロジェクト全体への影響評価

### 👥 リソース管理強化
- **負荷状況表示**: 担当者別の詳細な稼働率表示
- **競合警告**: オーバーブッキングの即座な検知・警告
- **平準化提案**: 最適なリソース配分の自動提案
- **稼働時間管理**: 担当者別の稼働可能時間設定

## 技術スタック

### フロントエンド
- **Next.js 15**: App Routerによるモダンなルーティング
- **TypeScript**: 型安全な開発環境
- **React**: コンポーネントベースUI
- **Tailwind CSS**: ユーティリティファーストCSS
- **Zustand/Redux**: 状態管理

### バックエンド
- **Prisma ORM**: 型安全なデータベースアクセス
- **PostgreSQL**: リレーショナルデータベース
- **Server Actions**: Next.jsのサーバーサイド処理

### 開発・テスト
- **Jest**: ユニットテスト
- **React Testing Library**: コンポーネントテスト
- **Playwright**: E2Eテスト
- **TDD**: テスト駆動開発

## アーキテクチャの特徴

### クリーンアーキテクチャ継承
- **ドメイン駆動設計**: ビジネスロジックの中心化
- **依存性注入**: Inversifyによる疎結合設計
- **レイヤー分離**: プレゼンテーション・アプリケーション・ドメイン・インフラ層

### パフォーマンス最適化
- **仮想化スクロール**: 大量データ対応
- **メモ化戦略**: React.memo、useMemoの効果的活用
- **Web Worker**: CPM計算の並列処理
- **キャッシュ戦略**: 計算結果の効率的キャッシング

## 実装スケジュール

### フェーズ1: 基盤整備（2-3週間）
- データベーススキーマ拡張
- ドメインモデル拡張
- API基盤構築

### フェーズ2: コア機能（3-4週間）
- 基本ガントチャートコンポーネント
- 依存関係表示システム
- クリティカルパス機能
- 自動スケジューリング

### フェーズ3: 高度機能（2-3週間）
- リソース管理機能
- 高度な表示機能

### フェーズ4: 統合・最適化（1-2週間）
- パフォーマンス最適化
- テスト・品質保証
- ドキュメンテーション

## 期待される効果

### 開発チーム向け
- **プロジェクト可視性の向上**: クリティカルパスとリスクの明確化
- **自動化による効率化**: 手動調整作業の大幅削減
- **意思決定支援**: データに基づく優先度付けと資源配分

### ユーザー向け
- **操作性の向上**: 直感的な依存関係管理
- **精度の向上**: 制約を考慮した現実的なスケジューリング
- **生産性の向上**: リソース競合の早期発見と解決

### 組織全体
- **プロジェクト成功率向上**: 科学的手法による進捗管理
- **リソース効率化**: 最適な人員配置の実現
- **標準化促進**: 統一されたプロジェクト管理手法

## 参照

- [プロジェクトルートのREADME](../README.md)
- [ERD（エンティティ関係図）](../ERD.md)
- [CLAUDE.md（開発ガイド）](../CLAUDE.md)

---

**最終更新**: 2025-08-08  
**作成者**: Claude Code  
**文書バージョン**: 1.0